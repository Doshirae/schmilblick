<!doctype html>
<html>
    <head>
        <meta charset="UTF-8" />
        <title>schmilblick</title>
        <script src="phaser.js"></script>
    </head>
    <body>

    <script type="text/javascript">

    window.onload = function() {

        //  Note that this html file is set to pull down Phaser 2.5.0 from the JS Delivr CDN.
        //  Although it will work fine with this tutorial, it's almost certainly not the most current version.
        //  Be sure to replace it with an updated version before you start experimenting with adding your own code.

        var game = new Phaser.Game(900, 750, Phaser.AUTO, '', { preload: preload, create: create, update: update, render: render });

        function preload () {

            game.stage.backgroundColor = '#85b5e1';
            game.load.crossOrigin = 'anonymous';
            game.load.image('monstre','images/monstre');
            game.load.image('monstre1','images/monstre1');
            game.load.image('monstre2','images/monstre2');
            game.load.image('monstre3','images/monstre3');
            
        }
        
        var coeff = 5;
        function create () { 
            timerPop = game.time.events.loop(5*(Phaser.Timer.SECOND), createMob, this);
            timer.loop(coeff*1000, coeffDown, this);
        }
        
        var monstre;
        function createMob (){
            
            var randomColonne;
            var randomMonstre;
            var nomMonstre;
            coeffDown();
            
            randomMonstre = game.rnd.integerInRange(1, 3);
            randomColonne = game.rnd.integerInRange(0, 6);
            nomMonstre = 'monstre'+randomMonstre;
            monstre = game.add.sprite(randomColonne*150, 0, nomMonstre);
            monstre.scale.setTo(0.5,0.5);
            game.physics.arcade.enable(monstre);
            monstre.body.collideWorldBounds = true;
            monstre.body.velocity.y = 100;
        }
        
        function coeffDown(){
            coeff = 0.99*coeff;
            timerPop.delay = coeff*1000;
        }
        
        function update () {
        
        
        
        if(joubert.vie == 0){
            joubert.kill;
            console.log("mort");
        }
        
        }
    
        function render() {
            game.debug.text('temps: ' + coeff, 32, 64);
        }

    };
    
    </script>
    </body>
</html>
